#!/usr/bin/python
# -*- coding: UTF-8 -*-
# @author: sukeycz
# @license: AGPL-3.0 License
# @contact: sukeycz0@gmail.com
# @software: PyCharm
# @project : FinancialStatistics
# @file: mooglemail.py
# @time: 2021/6/7 16:56
# @desc:
import re
import auth
import requests
from bs4 import BeautifulSoup as Soup
#['2509582', '2508920', '2507962', '2507738', '2507372', '2507132', '2506601', '2503943', '2503298', '2503065', '2502688', '2501647', '2501621', '2501613', '2501310', '2501007', '2500808', '2499594', '2498865', '2498864', '2498184', '2498108', '2497219', '2497144', '2496209', '2495918', '2495766', '2495742', '2495430', '2495199', '2495109', '2494807', '2494760', '2494691', '2494598', '2494462', '2494452', '2494422', '2494363', '2494330', '2493995', '2493968', '2493891', '2493775', '2493431', '2493276', '2493029', '2493011', '2492848', '2492846', '2492845', '2492844', '2492679', '2492602', '2492225', '2492213', '2492144', '2491956', '2491576', '2491573', '2490429', '2490135', '2490231', '2490180', '2490141', '2490130', '2490137', '2490129', '2490128', '2490125', '2490123', '2490122', '2490121', '2490120', '2490119', '2490118', '2490117', '2490116', '2490109', '2490004', '2490005', '2489986', '2489756', '2489755', '2489753', '2489751', '2486102', '2486103', '2488372', '2488367', '2488366', '2487750', '2487637', '2486929', '2486891', '2486754', '2486704', '2486466', '2486458', '2486436', '2486293', '2486292', '2485731', '2485585', '2484514', '2484508', '2484346', '2483869', '2483717', '2483398', '2483073', '2483028', '2482929', '2482860', '2482810', '2482695', '2482571', '2482480', '2482421', '2482314', '2481704', '2481247', '2481147', '2481141', '2481062', '2481042', '2481041', '2480996', '2480993', '2480982', '2480767', '2480754', '2480707', '2480669', '2479893', '2480296', '2480295', '2480280', '2480134', '2480087', '2480083', '2479763', '2479508', '2479358', '2479157', '2479030', '2478795', '2478511', '2478256', '2478255', '2477421', '2477392', '2477367', '2477332', '2477189', '2477140', '2477086', '2476941', '2476918', '2476643', '2476629', '2476526', '2476515', '2476489', '2476452', '2476087', '2476076', '2476055', '2475852', '2475813', '2475668', '2475220', '2475133', '2475080', '2475079', '2475078', '2475076', '2475075', '2475074', '2475054', '2474290', '2474288', '2472671', '2472487', '2472342', '2471683', '2471607', '2471398', '2471114', '2471103', '2471099', '2471033', '2470963', '2470907', '2470855', '2470824', '2470823', '2470815', '2470726', '2470725', '2470724', '2470723', '2470720', '2470719', '2470591', '2470357', '2470240', '2470239', '2470237', '2470147', '2469868', '2469856', '2469842', '2469840', '2469835', '2469455', '2469199', '2469172', '2469158', '2469071', '2469014', '2468993', '2468940', '2468521', '2468456', '2468370', '2468375', '2468329', '2468260', '2467940', '2466831', '2467581', '2467567', '2467541', '2467302', '2466896', '2466401', '2466362', '2466361', '2466354', '2466321', '2466328', '2466327', '2466326', '2466325', '2466324', '2466323', '2466322', '2466319', '2466214', '2466154', '2466152', '2465528', '2465408', '2464913', '2464827', '2464646', '2464509', '2464513', '2464510', '2464463', '2463936', '2463931', '2463930', '2463928', '2463927', '2463768', '2463744', '2463739', '2463732', '2463724', '2463582', '2463580', '2463578', '2463495', '2463400', '2463399', '2463398', '2463166', '2463163', '2463153', '2463087', '2463065', '2463006', '2462979', '2462980', '2462857', '2462856', '2462701', '2462617', '2462572', '2462487', '2462351', '2462350', '2462348', '2462347', '2462342', '2462341', '2462282', '2462178', '2462174', '2462157', '2462119', '2462117', '2462112', '2462100', '2462093', '2461976', '2461975', '2461973', '2461555', '2461344', '2460938', '2460922', '2460911', '2460907', '2460903', '2460881', '2460877', '2460865', '2460861', '2460852', '2460849', '2460079', '2460047', '2459598', '2459597', '2459380', '2458774', '2458775', '2458767', '2458729', '2458691', '2458682', '2458681', '2457994', '2457993', '2457992', '2457984', '2457940', '2457207', '2457102', '2457103', '2456447', '2456426', '2456249', '2456376', '2456361', '2456226', '2456224', '2455161', '2454935', '2454648', '2454647', '2454641', '2454460', '2454459', '2454457', '2454455', '2454450', '2454445', '2454439', '2454171', '2454086', '2454081', '2453619', '2452085', '2451696', '2451661', '2450789', '2450671', '2450659', '2450643', '2450171', '2449764', '2449288', '2449007', '2448904', '2448871', '2448841', '2448520', '2447554', '2447391', '2447368', '2447214', '2447202', '2447156', '2447145', '2447144', '2446435', '2446194', '2446191', '2446190', '2446189', '2446186', '2446182', '2446181', '2446151', '2446129', '2446043', '2445958', '2445914', '2445850', '2445823', '2445618', '2445511', '2445296', '2445288', '2444852', '2444737', '2444729', '2444607', '2444484', '2444306', '2443939', '2443923', '2443869', '2443767', '2443667', '2443661', '2443625', '2442863', '2442657', '2442646', '2442630', '2442315', '2442164', '2442145', '2442067', '2441805', '2441801', '2441800', '2441796', '2441732', '2441511', '2441502', '2441472', '2441460', '2441433', '2441432', '2441349', '2441206', '2438146', '2440922', '2440034', '2439880', '2439879', '2439877', '2439876', '2439872', '2439871', '2439193', '2439090', '2438855', '2438369', '2438145', '2438341', '2437940', '2437451', '2437303', '2437272', '2437271', '2437180', '2436361', '2436348', '2435921', '2435903', '2435286', '2435225', '2435119', '2434921', '2434920', '2434669', '2434659', '2434069', '2433735', '2433734', '2433999', '2433748', '2433740', '2433729', '2433563', '2433562', '2433561', '2433560', '2433559', '2433558', '2433557', '2433555', '2433554', '2433553', '2433552', '2433513', '2433495', '2433492', '2433491', '2433487', '2433486', '2433179', '2433161', '2431789', '2431246', '2431005', '2430907', '2430350', '2430125', '2429465', '2429008', '2428268', '2427836', '2427641', '2427553', '2427403', '2427217', '2426714', '2426803', '2426702', '2426684', '2426316', '2426273', '2426271', '2426270', '2425531', '2425415', '2425198', '2424995', '2424976', '2424958', '2424714', '2424686', '2424685', '2424481', '2424480', '2424479', '2423979', '2423938', '2423935', '2423709', '2423545', '2423541', '2423514', '2423478', '2423448', '2423287', '2423167', '2422948', '2422939', '2422905', '2422770', '2422768', '2422556', '2421349', '2421866', '2421800', '2421695', '2421322', '2420699', '2420698', '2420595', '2419779', '2419625', '2418987', '2418928', '2418639', '2418623', '2418620', '2418611', '2418605', '2418597', '2418596', '2418587', '2418586', '2418583', '2418582', '2417520', '2417478', '2417445', '2417373', '2417372', '2417369', '2417367', '2417366', '2417363', '2417354', '2417353', '2417187', '2417183', '2417095', '2417045', '2417029', '2416688', '2416104', '2416103', '2416088', '2416087', '2416014', '2416011', '2416001', '2415982', '2415853', '2415750', '2415735', '2415724', '2415635', '2415555', '2415389', '2415059', '2414213', '2414033', '2414016', '2413855', '2412638', '2412505', '2410864', '2409765', '2409763', '2408752', '2408675', '2408573', '2408276', '2408006', '2407842', '2407841', '2407840', '2407839', '2407838', '2407837', '2407836', '2407799', '2407022', '2406713', '2406712', '2406711', '2406710', '2406709', '2406708', '2406707', '2406354', '2406149', '2406112', '2406111', '2405534', '2405484', '2405409', '2405408', '2405406', '2405404', '2405385', '2405384', '2405383', '2405382', '2405381', '2405380', '2405379', '2405376', '2405357', '2405355', '2405354', '2405352', '2405351', '2405350', '2405349', '2405347', '2405346', '2405308', '2405307', '2405306', '2405305', '2405304', '2405302', '2405214', '2405176', '2405048', '2404845', '2404530', '2404358', '2404357', '2404356', '2404354', '2404259', '2403895', '2403850', '2403279', '2403278', '2402936', '2402935', '2402933', '2402932', '2402931', '2402930', '2402928', '2402894', '2402297', '2402100', '2402067', '2401972', '2401971', '2401970', '2401969', '2401968', '2401947', '2401937', '2401936', '2401935', '2401793', '2401550', '2401471', '2401438', '2401248', '2401127', '2401126', '2401072', '2400775', '2400761', '2400554', '2400550', '2400475', '2400452', '2399615', '2399719', '2399710', '2399696', '2399679', '2399631', '2399202', '2398929', '2398926', '2398895', '2398821', '2398819', '2398786', '2398227', '2398193', '2397522', '2397419', '2396710', '2396458', '2396404', '2396198', '2396163', '2396162', '2395988', '2395761', '2395762', '2395695', '2395694', '2394048', '2394047', '2393725', '2393638', '2393627', '2393612', '2393611', '2393445', '2393444', '2392426', '2392425', '2391852', '2391851', '2391850', '2391845', '2391843', '2391817', '2391808', '2391806', '2391805', '2391786', '2391773', '2391772', '2391771', '2391767', '2391764', '2391763', '2391759', '2391758', '2391559', '2391558', '2391526', '2391114', '2390534', '2390437', '2390422', '2390279', '2390277', '2390275', '2390270', '2390116', '2390048', '2390034', '2390033', '2389473', '2389424', '2389402', '2389394', '2389298', '2389264', '2389255', '2389249', '2389233', '2389205', '2389200', '2389195', '2389193', '2389184', '2389177', '2389168', '2389095', '2389093', '2389094', '2389078', '2388972', '2388199', '2388171', '2387569', '2387562', '2387524', '2387431', '2387430', '2387428', '2386527', '2385825', '2385100', '2385011', '2385003', '2384712', '2384655', '2383722', '2383715', '2383684', '2383652', '2383623', '2383618', '2383611', '2383545', '2377500', '2383523', '2383383', '2383294', '2383247', '2383240', '2383085', '2382981', '2382098', '2381529', '2381400', '2381371', '2381050', '2381011', '2380919', '2380885', '2380877', '2380842', '2380839', '2380798', '2380684', '2380668', '2380622', '2380487', '2380278', '2380151', '2380087', '2379626', '2379545', '2379544', '2379541', '2379540', '2379538', '2378957', '2378603', '2378472', '2378470', '2378469', '2378468', '2378437', '2378405', '2378361', '2378322', '2377826', '2377805', '2377516', '2377498', '2377497', '2377435', '2377423', '2377421', '2377422', '2377420', '2377419', '2377418', '2377415', '2377414', '2377410', '2377407', '2377406', '2377400', '2377399', '2377398', '2377397', '2377168', '2377100', '2377010', '2376906', '2376890', '2376699', '2376574', '2376551', '2376524', '2376277', '2376236', '2376228', '2376218', '2376210', '2376185', '2376178', '2376166', '2376157', '2375988', '2375880', '2375881', '2375877', '2374229', '2374228', '2375790', '2375789', '2375788', '2375778', '2375764', '2375179', '2374939', '2374608', '2374576', '2374484', '2374464', '2374443', '2374414', '2374405', '2374347', '2374340', '2374334', '2374329', '2374293', '2374286', '2374241', '2374214', '2374213', '2374211', '2374051', '2372901', '2372900', '2372485', '2372300', '2372299', '2370501', '2371613', '2371612', '2371451', '2370677', '2370644', '2370484', '2370474', '2370464', '2370463', '2370462', '2370461', '2370458', '2370264', '2370131', '2370130', '2370129', '2370127', '2370124', '2370123', '2370117', '2370116', '2370115', '2370114', '2370113', '2370110', '2369887', '2369888', '2369490', '2369478', '2369464', '2369452', '2369423', '2369393', '2369340', '2369319', '2368870', '2368857', '2368650', '2368637', '2368458', '2368425', '2367894', '2367495', '2367451', '2367294', '2366248', '2366102', '2366100', '2364957', '2366076', '2365466', '2365256', '2365115', '2364967', '2364956', '2364953', '2364952', '2364614', '2363867', '2363274', '2363271', '2363245', '2363235', '2362864', '2362860', '2362856', '2362852', '2362771', '2362770', '2362766', '2362765', '2362748', '2362727', '2362685', '2361591', '2361195', '2361012', '2360975', '2360959', '2360918', '2360896', '2360879', '2360861', '2360535', '2360424', '2360385', '2360379', '2360273', '2360260', '2359723', '2359724', '2359728', '2359444', '2358577', '2358007', '2357983', '2357015', '2357002', '2356590', '2356562', '2356536', '2356508', '2356432', '2356431', '2356430', '2356427', '2356426', '2356414', '2356413', '2356412', '2356411', '2356408', '2356352', '2356345', '2356338', '2356328', '2356197', '2355524', '2354627', '2354511', '2354508', '2353889', '2353353', '2353316', '2353277', '2353181', '2353063', '2353027', '2351457', '2350095', '2349579', '2349571', '2349563', '2349239', '2349232', '2348331', '2348307', '2348064', '2347680', '2347679', '2347583', '2347306', '2347305', '2347221', '2347175', '2346686', '2346675', '2346668', '2346649', '2346542', '2346541', '2346531', '2346530', '2346529', '2346522', '2346515', '2346508', '2346502', '2346485', '2346483', '2346482', '2346480', '2346476', '2346166', '2345960', '2345895', '2345806', '2345792', '2345777', '2345774', '2344695', '2344308', '2343150', '2342948', '2342942', '2342931', '2342928', '2342919', '2342757', '2342673', '2342664', '2342650', '2342558', '2342454', '2342445', '2342442', '2342081', '2341884', '2341741', '2341739', '2341737', '2341735', '2341734', '2341708', '2341707', '2341416', '2341410', '2341273', '2341134', '2341117', '2341043', '2339672', '2339386', '2339399', '2339385', '2339363', '2339246', '2339011', '2337922', '2337914', '2337894', '2337882', '2337881', '2337832', '2337792', '2337768', '2337464', '2337463', '2337462', '2337026', '2336226', '2334628', '2334569', '2333812', '2330505', '2330305', '2330173', '2330172', '2330168', '2330164', '2330163', '2330151', '2330150', '2330135', '2330134', '2330131', '2330130', '2330101', '2330094', '2330093', '2330092', '2330079', '2330078', '2329854', '2329791', '2329790', '2329789', '2329788', '2329784', '2329663', '2329660', '2329657', '2329655', '2329653', '2329650', '2329625', '2329468', '2329467', '2329466', '2329465', '2329463', '2329462', '2329461', '2329458', '2329457', '2329456', '2329455', '2329448', '2329447', '2329446', '2329109', '2329108', '2329106', '2329105', '2329104', '2328852', '2328850', '2327758', '2327584', '2327492', '2326839', '2326674', '2326555', '2326554', '2326553', '2326552', '2326551', '2326550', '2326549', '2326548', '2326547', '2326543', '2326544', '2326538', '2326529', '2326514', '2326512', '2326511', '2326510', '2326509', '2326508', '2326505', '2326504', '2326503', '2326502', '2326340', '2326279', '2326274', '2326272', '2326270', '2326269', '2326268', '2326246', '2326245', '2326244', '2326227', '2326226', '2326225', '2326224', '2326223', '2326222', '2326221', '2326209', '2326208', '2326206', '2326205', '2326204', '2326203', '2326202', '2326201', '2326200', '2326178', '2326177', '2326176', '2326175', '2326169', '2326112', '2323243', '2322393', '2322241', '2322237', '2321666', '2321237', '2321236', '2321235', '2321234', '2321233', '2321232', '2321219', '2321218', '2321002', '2317786', '2317781', '2317326', '2317261', '2317258', '2317257', '2317256', '2317255', '2317254', '2317253', '2317252', '2317251', '2317247', '2317245', '2317162', '2317157', '2317155', '2316880', '2316878', '2312611', '2312601', '2312598', '2312597', '2312555', '2312554', '2310187', '2310128', '2310124', '2310123', '2310119', '2310106', '2310105', '2307929', '2306854', '2306221', '2304877', '2306128', '2306015', '2305989', '2305674', '2305464', '2305463', '2305460', '2305437', '2305395', '2304879', '2304715', '2304657', '2304641', '2304542', '2304081', '2304039', '2302893', '2302366', '2301670', '2301567', '2301566', '2301565', '2301563', '2301561', '2301560', '2301553', '2300699', '2300202', '2300201', '2300200', '2300199', '2300198', '2300196', '2300190', '2300189', '2300188', '2299130', '2299125', '2298781', '2298780', '2298779', '2298778', '2297863', '2297862', '2297861', '2297859', '2297858', '2297857', '2297856', '2297855', '2297854', '2297853', '2297852', '2297851', '2297668', '2297102', '2297101', '2297099', '2297029', '2297028', '2297027', '2297026', '2297025', '2297024', '2297013', '2297012', '2297011', '2297010', '2297006', '2297004', '2297003', '2296997', '2296994', '2296258', '2295331', '2295313', '2295312', '2295230', '2295040', '2294978', '2294364', '2294343', '2294279', '2294256', '2294199', '2294194', '2294188', '2294166', '2294142', '2293892', '2293889', '2293888', '2293667', '2293641', '2293481', '2293025', '2293024', '2293023', '2292411', '2292071', '2291946', '2291733', '2291568', '2291528', '2291513', '2291492', '2291453', '2291013', '2290628', '2288218', '2287255', '2287201', '2285547', '2284548', '2284547', '2284546', '2267795', '2263686', '2261201', '2258977', '2258830', '2258790', '2258664', '2258662', '2258654', '2258653', '2258652', '2258650', '2258635', '2258625', '2258589', '2258588', '2258538', '2241477', '2239656', '2231092', '2231091', '2231090', '2231089', '2231088', '2231087', '2231086']


def get_all_mid(session):
    real_mail_exist = True
    page = 0
    read_mid = []
    while real_mail_exist:
        # for i in
        resp = session.get(
            url=f"http://alt.hentaiverse.org/?s=Bazaar&ss=mm&filter=read&page={page}")
        if "No New Mail" in resp.text:
            real_mail_exist = False
        else:
            page += 1
        resp = Soup(resp.text, 'html.parser')
        table = resp.find("div", id="mmail_outerlist")
        mid_all = table.find_all("tr")
        for mid in mid_all:
            mid = mid.get("onclick")
            if mid:
                mid = re.findall(r"&mid=(\d+)'", mid)[0]
                print(mid)
                read_mid.append(mid)
    return read_mid


def read_mail(mid):
    pass


if __name__ == '__main__':
    session = auth.hv_login()
    print(get_all_mid(session))
